(this["webpackJsonpzen-report"]=this["webpackJsonpzen-report"]||[]).push([[0],{35:function(e,t){},36:function(e,t){},37:function(e,t){},5:function(e,t,n){"use strict";var r=n(35);n.o(r,"ReportType")&&n.d(t,"ReportType",(function(){return r.ReportType}));var o=n(36);n.o(o,"ReportType")&&n.d(t,"ReportType",(function(){return o.ReportType}));var c=n(37);n.o(c,"ReportType")&&n.d(t,"ReportType",(function(){return c.ReportType}));var a=n(6);n.d(t,"ReportType",(function(){return a.a}))},6:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.income="income",e.outcome="outcome"}(r||(r={}))},65:function(e,t){},67:function(e,t){},77:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),c=n(17),a=n.n(c),i=n(4),u=n(3),s=n(39),l=n(40),d=n(28),p=n(2),b=n(6),m="PUT_TRANSACTIONS",j="SELECT_REPORT_ROW",f="ADD_REPORT_ROW",x="DELETE_REPORT_ROW",v="RENAME_REPORT_ROW",O="ADD_TRANSACTIONS_TO_SELECTED_REPORT",h="REMOVE_TRANSACTIONS_FROM_SELECTED_REPORT",R="ACCOUNT_SELECTION_CHANGE",y="SELECT_TRANSACTION",g="SET_SAVING_AMOUNT",w={accounts:[],incomeReport:[],outcomeReport:[],selectedReportRow:void 0,selectedReportType:b.a.income,selectedTransactionId:"",transactions:[],savings:0};var T=Object(u.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:var n=["#C0C0C0","#808080","#FF0000","#800000","#FFFF00","#808000","#00FF00","#008000","#00FFFF","#008080","#0000FF","#000080","#FF00FF","#800080"],r=t.payload.transactions.map((function(e){return e.account})).filter((function(e,t,n){return n.indexOf(e)===t})).sort((function(e,t){return e.localeCompare(t)})).map((function(e,r){return{name:e,isSelected:-1===t.payload.deselectedAccounts.findIndex((function(t){return t===e})),colour:n[r%n.length]}})),o=t.payload.transactions.sort((function(e,t){return e.category===t.category?e.subCategory.localeCompare(t.subCategory):e.category.localeCompare(t.category)}));return Object(p.a)(Object(p.a)({},e),{},{transactions:o,accounts:r});case j:var c=t.payload;if(c===b.a.income)return Object(p.a)(Object(p.a)({},e),{},{selectedReportRow:void 0,selectedReportType:b.a.income});if(c===b.a.outcome)return Object(p.a)(Object(p.a)({},e),{},{selectedReportRow:void 0,selectedReportType:b.a.outcome});var a=e.incomeReport.findIndex((function(e){return e.id===c}));if(-1!==a)return Object(p.a)(Object(p.a)({},e),{},{selectedReportRow:e.incomeReport[a],selectedReportType:b.a.income});var i=e.outcomeReport.findIndex((function(e){return e.id===c}));return-1!==i?Object(p.a)(Object(p.a)({},e),{},{selectedReportRow:e.outcomeReport[i],selectedReportType:b.a.outcome}):e;case f:return t.payload.reportType===b.a.income?Object(p.a)(Object(p.a)({},e),{},{incomeReport:[].concat(Object(d.a)(e.incomeReport),[t.payload.row])}):Object(p.a)(Object(p.a)({},e),{},{outcomeReport:[].concat(Object(d.a)(e.outcomeReport),[t.payload.row])});case x:var u,s=e.selectedReportRow,l=null===(u=s)||void 0===u?void 0:u.id;if(void 0!==s){if(e.selectedReportType===b.a.income){var T=e.incomeReport.findIndex((function(e){var t;return e.id===(null===(t=s)||void 0===t?void 0:t.id)})),C=T<e.incomeReport.length-1?T+1:T-1;s=C<0?void 0:e.incomeReport[C]}else{var N=e.outcomeReport.findIndex((function(e){var t;return e.id===(null===(t=s)||void 0===t?void 0:t.id)})),S=N<e.outcomeReport.length-1?N+1:N-1;s=S<0?void 0:e.outcomeReport[S]}return Object(p.a)(Object(p.a)({},e),{},{transactions:e.transactions.map((function(e){return e.reportId===l?Object(p.a)(Object(p.a)({},e),{},{reportId:void 0}):e})),selectedReportRow:s,incomeReport:e.incomeReport.filter((function(e){return e.id!==l})),outcomeReport:e.outcomeReport.filter((function(e){return e.id!==l}))})}return e;case y:return-1===e.transactions.findIndex((function(e){return e.id===t.payload}))?e:Object(p.a)(Object(p.a)({},e),{},{selectedTransactionId:t.payload});case R:return Object(p.a)(Object(p.a)({},e),{},{accounts:e.accounts.map((function(e){return e.name===t.payload.accountId?Object(p.a)(Object(p.a)({},e),{},{isSelected:t.payload.selection}):e}))});case h:var I=t.payload,k=e.transactions.map((function(e){return-1===I.findIndex((function(t){return t===e.id}))?e:Object(p.a)(Object(p.a)({},e),{},{reportId:void 0})}));return Object(p.a)(Object(p.a)({},e),{},{transactions:k});case O:var A=t.payload,E=e.transactions.map((function(t){var n;return-1===A.findIndex((function(e){return e===t.id}))?t:Object(p.a)(Object(p.a)({},t),{},{reportId:null===(n=e.selectedReportRow)||void 0===n?void 0:n.id})}));return Object(p.a)(Object(p.a)({},e),{},{transactions:E});case v:var F=t.payload.id;return Object(p.a)(Object(p.a)({},e),{},{incomeReport:e.incomeReport.map((function(e){return e.id!==F?e:Object(p.a)(Object(p.a)({},e),{},{name:t.payload.name})})),outcomeReport:e.outcomeReport.map((function(e){return e.id!==F?e:Object(p.a)(Object(p.a)({},e),{},{name:t.payload.name})}))});case g:return Object(p.a)(Object(p.a)({},e),{},{savings:t.payload});default:return e}}),Object(s.composeWithDevTools)(Object(u.applyMiddleware)(l.a))),C=n(0),N=function(e){var t=e.labelText,n=e.changed,r=e.checked,o=e.enabled;return Object(C.jsxs)("label",{className:"flex justify-start items-start"+(o?"":" opacity-20"),children:[Object(C.jsxs)("div",{className:"bg-white border-2 rounded my-auto border-gray-400 w-4 h-4 flex mr-1",children:[Object(C.jsx)("input",{type:"checkbox",className:"opacity-0 absolute w-4 h-4",checked:r,onChange:function(e){return n(e.target.checked)},disabled:!o}),Object(C.jsx)("svg",{className:"fill-current hidden w-3 h-3 text-blue-900 pointer-events-none",viewBox:"0 0 20 20",children:Object(C.jsx)("path",{d:"M0 11l2-2 5 5L18 3l2 2L7 18z"})})]}),Object(C.jsx)("div",{className:"select-none",children:t})]})};N.defaultProps={enabled:!0,labelText:""};var S=N,I=function(e){var t=e.text;return Object(C.jsx)("div",{className:"text-xl text-blue-900 font-semibold mb-2",children:t})},k=function(e){return Object(C.jsxs)("div",{className:"divide-y-2 divide-gray-300",children:[Object(C.jsx)(I,{text:e.header}),e.children]})},A=function(e){var t=e.text,n=e.onClick,r=e.disabled;return Object(C.jsx)("button",{disabled:!0===r,className:"h-9 focus:outline-none disabled:opacity-50 text-white text-sm py-2 w-5 flex-grow mr-1 bg-blue-900"+(!0!==r?" hover:bg-blue-600 hover:shadow-md":" cursor-not-allowed"),onClick:n,children:t})},E=function(e){var t=e.text,n=e.onClick,r=e.disabled;return Object(C.jsx)("button",{disabled:!0===r,className:"h-9 focus:outline-none disabled:opacity-50  text-white text-sm py-2 w-5 flex-grow mr-1 bg-green-900"+(!0!==r?" hover:bg-green-600 hover:shadow-md":" cursor-not-allowed"),onClick:n,children:t})},F=function(e){var t=e.colour;return Object(C.jsx)("div",{className:"w-1 mx-1",style:{backgroundColor:t}})},M=function(){return Object(C.jsx)("div",{className:"h-5"})},_=function(){return Object(C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"inline-icon",viewBox:"0 0 16 16",children:[Object(C.jsx)("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),Object(C.jsx)("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"})]})},D=function(){return Object(C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"inline-icon",viewBox:"0 0 16 16",children:[Object(C.jsx)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),Object(C.jsx)("path",{d:"M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.235.235 0 0 1 .02-.022z"})]})};function L(e){switch(e){case"edit":return Object(C.jsx)(_,{});case"done":return Object(C.jsx)(D,{});default:return Object(C.jsx)("div",{})}}var P=function(e){var t=e.onClick,n=e.iconType;return Object(C.jsx)("button",{className:"focus:outline-none w-6 h-6 flex items-center px-1 text-gray-300 hover:text-gray-700",onClick:t,children:L(n)})},V=n(13);function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){return n({type:m,payload:{transactions:e,deselectedAccounts:t}})}}function B(e){return function(t){return t({type:j,payload:e})}}function H(e,t){return function(n){return n({type:f,payload:{row:e,reportType:t}})}}function W(){return function(e){return e({type:x,payload:void 0})}}function G(e,t){return function(n){return n({type:v,payload:{id:e,name:t}})}}function U(e){return function(t){return t({type:O,payload:e})}}function J(e){return function(t){return t({type:h,payload:e})}}function K(e,t){return function(n){return n({type:R,payload:{accountId:e,selection:t}})}}function Z(e){return function(t){return t({type:y,payload:e})}}function q(e){return function(t){return t({type:g,payload:e})}}var Q=Object(i.b)((function(){return{}}),(function(e){return Object(u.bindActionCreators)({AccountSelectionChange:K},e)}),(function(e,t,n){return Object(p.a)(Object(p.a)(Object(p.a)({},n),e),t)}))((function(e){var t=e.account,n=e.AccountSelectionChange;return Object(C.jsxs)("div",{className:"flex py-2 px-2",children:[Object(C.jsx)(S,{checked:t.isSelected,changed:function(e){var r,o=(null!==(r=V.get("disabled-accounts"))&&void 0!==r?r:[]).filter((function(e){return e!==t.name}));e||o.push(t.name),V.set("disabled-accounts",o),n(t.name,e)}}),Object(C.jsx)(F,{colour:t.colour}),Object(C.jsx)("span",{className:"flex-grow text-gray-600 truncate",children:t.name})]})}));var X=Object(i.b)((function(e){return{accounts:e.accounts}}),(function(e){return Object(u.bindActionCreators)({},e)}))((function(e){var t=e.accounts;return Object(C.jsx)("div",{children:Object(C.jsx)(k,{header:"\u0421\u0447\u0435\u0442\u0430",children:t.map((function(e){return Object(C.jsx)(Q,{account:e},e.name)}))})})})),Y=n(14),$=new Intl.NumberFormat("ru-RU",{minimumFractionDigits:2});function ee(e){return $.format(e)}function te(e){return new Date(e).toLocaleString("ru",{day:"numeric",month:"numeric",weekday:"short"})}var ne=function(e,t,n){var r=t?"done":"edit";switch(e){case"hideIcon":return Object(C.jsx)("span",{className:"ml-2 w-6 h-6"});case"title":case"amount":return Object(C.jsx)("span",{className:"ml-2",children:Object(C.jsx)(P,{iconType:r,onClick:n})})}return null},re=function(e){var t=e.title,n=e.amount,o=e.editType,c=e.onChanged,a=e.onClick,i=e.isSelected,u=Object(r.useState)(!1),s=Object(Y.a)(u,2),l=s[0],d=s[1],p=Object(r.useState)(t),b=Object(Y.a)(p,2),m=b[0],j=b[1];Object(r.useEffect)((function(){j(t)}),[t]);var f=Object(r.useState)((null!==n&&void 0!==n?n:0).toFixed(2)),x=Object(Y.a)(f,2),v=x[0],O=x[1];Object(r.useEffect)((function(){O(n.toString())}),[n]);var h=Object(r.useState)(null),R=Object(Y.a)(h,2),y=R[0],g=R[1];Object(r.useEffect)((function(){null===y||void 0===y||y.focus()}),[y]);var w=function(e){"enter"===e.key.toLowerCase()&&T()},T=function(){if(l){if(d(!1),void 0!==c)if("amount"===o){var e=Number.parseFloat(v);c(isNaN(e)?0:e)}else"title"===o&&c(m)}else d(!0)};return Object(C.jsxs)("div",{className:"flex py-2 px-2"+(void 0!==i?" hover:bg-blue-100":"")+(i?" bg-blue-100":""),onClick:function(){void 0!==a&&a()},children:[l&&"title"===o?Object(C.jsx)("input",{className:"flex-grow w-8 pl-0 mr-2 appearance-none h-6 focus:outline-none ring border-gray-300 ",value:m,type:"text",onKeyPress:w,onChange:function(e){return j(e.target.value)},ref:function(e){return g(e)}}):Object(C.jsxs)("span",{className:"flex-grow truncate text-gray-700",children:[t,"\xa0"]}),l&&"amount"===o?Object(C.jsx)("input",{className:"flex-grow w-8 appearance-none h-6 ml-1 focus:outline-none ring border-gray-300 px-2",value:v,onKeyPress:w,type:"text",ref:function(e){return g(e)},onChange:function(e){return O(e.target.value)}}):Object(C.jsx)("span",{className:"text-gray-700",children:ee(n)}),ne(o,l,T)]})};re.defaultProps={editType:"none"};var oe=re;var ce=Object(i.b)((function(e){return{transaction:e.transactions.find((function(t){return t.id===e.selectedTransactionId}))}}),(function(e){return Object(u.bindActionCreators)({},e)}))((function(e){var t=e.transaction;return Object(C.jsxs)(k,{header:"\u0414\u0435\u0442\u0430\u043b\u0438",children:[t&&Object(C.jsx)(ae,{title:"\u0414\u0430\u0442\u0430",value:te(t.time),mutedValue:!1}),t&&Object(C.jsx)(ae,{title:"\u0421\u0443\u043c\u043c\u0430",value:ee(t.amount),mutedValue:!1}),t&&Object(C.jsx)(ae,{title:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",value:"".concat(t.category).concat(""===t.category||""===t.subCategory?"":" / ").concat(t.subCategory),mutedValue:!1}),t&&Object(C.jsx)(ae,{title:"\u0421\u0447\u0435\u0442",value:t.account,mutedValue:!1}),t&&Object(C.jsx)(ae,{title:"\u041c\u0435\u0441\u0442\u043e",value:t.place,mutedValue:!0}),t&&Object(C.jsx)(ae,{title:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",value:t.comment,mutedValue:!0})]})}));function ae(e){var t=e.title,n=e.value,r=e.mutedValue;return Object(C.jsxs)("div",{className:"py-2 px-2",children:[Object(C.jsxs)("span",{className:"text-gray-900 mr-2 font-bold",children:[t,":\xa0"]}),Object(C.jsx)("span",{className:r?"text-gray-500 text-sm":"text-gray-600",children:n})]})}var ie=n(41),ue=n(5);function se(e,t,n){var r=t.filter((function(e){return e.isSelected}));return e.filter((function(e){return n===ue.ReportType.income?e.amount>0:e.amount<0})).filter((function(e){return-1!==r.findIndex((function(t){return t.name===e.account}))}))}function le(e,t,n){return se(e,t,n).reduce((function(e,t){return e+t.amount}),0)}function de(){return(new Date).getTime().toString()}function pe(e){var t=0,n=e.reduce((function(e,n){var r=n.reportId;if(void 0!==r){var o=e[r];void 0===o&&(o=0),o+=n.amount,e[r]=o}else t+=n.amount;return e}),{});return n.unreported=t,n}function be(e,t){var n=window;n.ym&&n.ym(76817104,e,t)}var me=Object(i.b)(null,(function(e){return Object(u.bindActionCreators)({PutTransactions:z},e)}))((function(e){var t=e.PutTransactions,n=r.useRef(null),o=function(e,t){var n=c(e[8])-c(e[5]);if(0===n)return null;var r=e[1]&&e[1].split("/").map((function(e){return e.trim()})),o=void 0!==r?r[0]:"",a=void 0!==r?r[1]:"";return{account:n<0?e[4]:e[7],amount:n,category:null!==o&&void 0!==o?o:"",subCategory:null!==a&&void 0!==a?a:"",comment:e[3],place:e[2],time:new Date(e[0]).getTime(),reportId:void 0,id:t}},c=function(e){if(!e)return 0;var t=Number.parseFloat(e.replace(",","."));return isNaN(t)?0:t};return Object(C.jsx)("div",{className:"flex-grow mb-3 h-12",children:Object(C.jsx)(ie.a,{ref:n,onFileLoad:function(e){var n,r=de(),c=e.filter((function(e,t){return t>3})).map((function(e,t){return o(e.data,r+"-"+t)})).filter((function(e){return null!==e})),a=null!==(n=V.get("disabled-accounts"))&&void 0!==n?n:[];be("reachGoal","OpenData"),t(c,a)},onError:function(e,t,n,r){console.log(e)},noClick:!0,noProgressBar:!0,noDrag:!0,onRemoveFile:function(e){t([])},children:function(e){var t=e.file;return Object(C.jsxs)("div",{className:"flex flex-row-reverse mx-auto mt-5",children:[Object(C.jsxs)("div",{className:"flex w-64",children:[Object(C.jsx)(A,{text:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c",onClick:function(e){return function(e,t){e.current&&e.current.open(t)}(n,e)}}),Object(C.jsx)(E,{text:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c",onClick:function(e){return function(e,t){e.current&&e.current.removeFile(t)}(n,e)}})]}),Object(C.jsx)("div",{className:"w-80 py-auto border-2 border-gray-300 mr-1 align-middle px-2 overflow-ellipsis overflow-hidden",children:t&&t.name})]})}})})})),je=Object(i.b)((function(e){return{savings:e.savings,reportRows:e.incomeReport,transactions:se(e.transactions,e.accounts,ue.ReportType.income),selectedReportRow:e.selectedReportRow,selectedReportType:e.selectedReportType}}),(function(e){return Object(u.bindActionCreators)({SetSavingsAmount:q,RenameReportName:G,AddReportRow:H,DeleteSelectedReportRow:W,SelectReportRow:B},e)}))((function(e){var t=e.savings,n=e.SetSavingsAmount,r=e.AddReportRow,o=e.DeleteSelectedReportRow,c=e.SelectReportRow,a=e.selectedReportType,i=e.selectedReportRow,u=e.reportRows,s=e.transactions,l=e.RenameReportName,d=pe(s),p=a===ue.ReportType.income&&void 0===i;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(k,{header:"\u0414\u043e\u0445\u043e\u0434\u044b",children:[u.map((function(e){var t;return Object(C.jsx)(oe,{title:e.name,amount:null!==(t=d[e.id])&&void 0!==t?t:0,onClick:function(){return c(e.id)},editType:"title",onChanged:function(t){return l(e.id,t)},isSelected:e.id===(null===i||void 0===i?void 0:i.id)},e.id)})),Object(C.jsx)(oe,{title:"\u041f\u0440\u043e\u0447\u0435\u0435",amount:d.unreported,editType:"hideIcon",onClick:function(){return c(ue.ReportType.income)},isSelected:p},"income"),Object(C.jsx)(oe,{title:"\u041e\u0442\u043b\u043e\u0436\u0435\u043d\u043e",amount:t,editType:"amount",onChanged:function(e){return n(e)}},"savings")]}),Object(C.jsxs)("div",{className:"flex mt-2",children:[Object(C.jsx)(A,{text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",onClick:function(){return r({id:de(),name:"\u0420\u0430\u0441\u0445\u043e\u0434"},ue.ReportType.income)}}),Object(C.jsx)(E,{text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",onClick:o,disabled:p||a!==ue.ReportType.income})]})]})}));function fe(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"font-mono font-extrabold text-5xl text-blue-900 animate-pulse  mb-2 ml-2 mt-2 mr-2 filter blur-sm",children:"ZenReport"}),Object(C.jsx)("div",{className:"font-mono font-extrabold text-5xl text-white absolute left-0 top-0 mb-2 mr-2 ml-10 mt-4  ",children:"ZenReport"})]})}function xe(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:" ";return"| ".concat(e+o.repeat(n-e.length)," | ").concat(t+o.repeat(r-t.length)," |\n")}function ve(e,t){var n,r=e.map((function(e){var n;return{name:e.name,amount:Math.abs(null!==(n=t[e.id])&&void 0!==n?n:0).toFixed(2)}})),o=Math.abs(null!==(n=t.unreported)&&void 0!==n?n:0);return o>0&&r.push({name:"\u041f\u0440\u043e\u0447\u0435\u0435",amount:o.toFixed(2)}),r}function Oe(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c=Math.abs(t.reduce((function(e,t){return e+t.amount}),0));return e.push({name:"**\u0418\u0442\u043e\u0433**",amount:"**".concat((c-o).toFixed(2),"**")}),e.unshift({name:n,amount:r}),e}function he(e,t){var n=function(e){var t=e.reduce((function(e,t){return e<t.name.length?t.name.length:e}),0),n=e.reduce((function(e,t){return e<t.amount.length?t.amount.length:e}),0);return function(e,r){return xe(e,r,t,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ")}}(e),r="## ".concat(t,"\n\n");r+=n(e[0].name,e[0].amount),r+=n("-","-","-");for(var o=1;o<e.length;o++){var c=e[o];r+=n(c.name,c.amount)}return r+="\n\n"}var Re=Object(i.b)((function(e){return{savings:e.savings,incomeTransactions:se(e.transactions,e.accounts,ue.ReportType.income),outcomeTransactions:se(e.transactions,e.accounts,ue.ReportType.outcome),incomeReport:e.incomeReport,outcomeReport:e.outcomeReport}}),(function(e){return Object(u.bindActionCreators)({},e)}))((function(e){var t=e.savings,n=e.incomeTransactions,r=e.incomeReport,o=e.outcomeTransactions,c=e.outcomeReport;return Object(C.jsx)("div",{className:"flex",children:Object(C.jsx)(A,{text:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u043a MD \u0442\u0430\u0431\u043b\u0438\u0446\u0443",onClick:function(){be("reachGoal","ExportData");var e=ve(r,pe(n));0!==t&&e.push({name:"\u041e\u0442\u043b\u043e\u0436\u0435\u043d\u043e",amount:t.toFixed(2)});var a=he(e=Oe(e,n,"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a","\u0421\u0443\u043c\u043c\u0430",t),"\u0414\u043e\u0445\u043e\u0434\u044b"),i=ve(c,pe(o)),u=he(i=Oe(i,o,"\u0420\u0430\u0441\u0445\u043e\u0434","\u0421\u0443\u043c\u043c\u0430"),"\u0420\u0430\u0441\u0445\u043e\u0434\u044b"),s=n.reduce((function(e,t){return e+t.amount}),0)-t,l=o.reduce((function(e,t){return e-t.amount}),0),d="\u0411\u0430\u043b\u0430\u043d\u0441: ".concat(s.toFixed(2)," - ").concat(l.toFixed(2)," = **").concat((s-l).toFixed(2),"**\n");navigator.clipboard.writeText(a+u+d)},disabled:0===n.length&&0===o.length})})})),ye=Object(i.b)((function(e){return{reportRows:e.outcomeReport,transactions:se(e.transactions,e.accounts,ue.ReportType.outcome),selectedReportRow:e.selectedReportRow,selectedReportType:e.selectedReportType}}),(function(e){return Object(u.bindActionCreators)({RenameReportName:G,AddReportRow:H,DeleteSelectedReportRow:W,SelectReportRow:B},e)}))((function(e){var t=e.AddReportRow,n=e.DeleteSelectedReportRow,r=e.SelectReportRow,o=e.selectedReportType,c=e.selectedReportRow,a=e.reportRows,i=e.transactions,u=e.RenameReportName,s=pe(i),l=o===ue.ReportType.outcome&&void 0===c;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(k,{header:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b",children:[a.map((function(e){var t;return Object(C.jsx)(oe,{title:e.name,amount:Math.abs(null!==(t=s[e.id])&&void 0!==t?t:0),onClick:function(){return r(e.id)},editType:"title",onChanged:function(t){return u(e.id,t)},isSelected:e.id===(null===c||void 0===c?void 0:c.id)},e.id)})),Object(C.jsx)(oe,{title:"\u041f\u0440\u043e\u0447\u0435\u0435",amount:Math.abs(s.unreported),editType:"hideIcon",onClick:function(){return r(ue.ReportType.outcome)},isSelected:l},"outcome")]}),Object(C.jsxs)("div",{className:"flex mt-2",children:[Object(C.jsx)(A,{text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",onClick:function(){t({id:de(),name:"\u0420\u0430\u0441\u0445\u043e\u0434"},ue.ReportType.outcome)}}),Object(C.jsx)(E,{text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",onClick:n,disabled:l||o!==ue.ReportType.outcome})]})]})})),ge=Object(i.b)((function(e){return{incomeAmount:le(e.transactions,e.accounts,ue.ReportType.income),outcomeAmount:-1*le(e.transactions,e.accounts,ue.ReportType.outcome),savings:e.savings}}),(function(e){return Object(u.bindActionCreators)({},e)}))((function(e){var t=e.incomeAmount,n=e.outcomeAmount,r=e.savings;return Object(C.jsxs)(k,{header:"\u0411\u0430\u043b\u0430\u043d\u0441",children:[Object(C.jsx)(oe,{title:"\u0414\u043e\u0445\u043e\u0434",amount:Math.abs(t-r)}),Object(C.jsx)(oe,{title:"\u0420\u0430\u0441\u0445\u043e\u0434",amount:Math.abs(n)}),Object(C.jsx)(oe,{title:"\u0411\u0430\u043b\u0430\u043d\u0441",amount:t-r-n})]})}));function we(e){var t=e.data,n=e.isChecked,r=e.selectionChange,o=e.accountColor,c=e.selectionIsEnabled,a=e.isSelected,i=e.rowSelected;return Object(C.jsxs)("div",{className:"flex flex-grow pr-1 py-2 px-2 hover:bg-blue-100"+(a?" bg-blue-100":""),children:[Object(C.jsx)(S,{enabled:c,checked:n,changed:function(e){return r(t.id,e)}}),Object(C.jsxs)("div",{className:"select-none flex-grow flex",onClick:function(){return i(t.id)},children:[Object(C.jsx)(F,{colour:o}),Object(C.jsx)("span",{className:"text-gray-500 mr-2 w-20 truncate text-right",children:ee(Math.abs(t.amount))}),Object(C.jsx)("p",{className:"text-gray-500 w-20 pr-2",children:te(t.time)}),Object(C.jsxs)("p",{className:"flex-grow text-gray-500",children:[t.place&&Object(C.jsx)("span",{className:"mr-2",children:t.place}),Object(C.jsx)("span",{className:"text-sm text-gray-400 flex-shrink",children:t.comment})]})]})]})}var Te=Object(i.b)((function(e){return{transactions:e.transactions,accounts:e.accounts,selectedReportType:e.selectedReportType,selectedReport:e.selectedReportRow,selectedTransactionId:e.selectedTransactionId}}),(function(e){return Object(u.bindActionCreators)({SelectTransaction:Z,RemoveTransactionsFromSelectedReport:J,AddTransactionsToSelectedReport:U},e)}))((function(e){var t=e.transactions,n=e.accounts,r=e.selectedReportType,o=e.selectedReport,c=e.selectedTransactionId,a=e.SelectTransaction,i=e.RemoveTransactionsFromSelectedReport,u=e.AddTransactionsToSelectedReport,s=se(t,n,r).filter((function(e){return e.reportId===(null===o||void 0===o?void 0:o.id)||void 0===e.reportId})),l={};n.filter((function(e){return e.isSelected})).forEach((function(e){return l[e.name]=e.colour}));for(var d=void 0!==o,p=function(e,t){t?u(e):i(e)},b=[],m=null,j=null,f=function(e){var t=s[e];if(t.category!==m){var n=s.filter((function(e){return e.category===t.category})),r=Math.abs(n.reduce((function(e,t){return e+t.amount}),0));b.push(Object(C.jsx)(Ce,{checked:n.reduce((function(e,t){return void 0!==t.reportId&&e}),!0),onChange:p,transactionIds:n.map((function(e){return e.id})),categoryName:""===t.category?"* * *":t.category,transactionSum:r,selectionIsEnabled:d,level:0},"header-0-"+t.category)),m=t.category,j=null}if(t.subCategory!==j&&""!==t.subCategory){var o=s.filter((function(e){return e.category===t.category&&e.subCategory===t.subCategory})),i=Math.abs(o.reduce((function(e,t){return e+t.amount}),0));b.push(Object(C.jsx)(Ce,{checked:o.reduce((function(e,t){return void 0!==t.reportId&&e}),!0),onChange:p,transactionIds:o.map((function(e){return e.id})),categoryName:""===t.subCategory?"* * *":t.subCategory,transactionSum:i,selectionIsEnabled:d,level:1},"header-1-"+t.subCategory)),j=t.subCategory}b.push(Object(C.jsx)(we,{isChecked:void 0!==t.reportId,selectionIsEnabled:d,data:t,accountColor:l[t.account],selectionChange:function(e,t){return p([e],t)},isSelected:c===t.id,rowSelected:function(e){return a(e)}},t.id))},x=0;x<s.length;x++)f(x);return Object(C.jsx)("div",{children:Object(C.jsx)(k,{header:"\u0422\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438",children:b})})}));function Ce(e){var t=e.checked,n=e.onChange,r=e.transactionIds,o=e.categoryName,c=e.transactionSum,a=e.level,i=e.selectionIsEnabled;return Object(C.jsxs)("div",{className:"flex flex-grow py-2 px-2",style:{backgroundColor:0===a?"rgb(147, 197, 253)":"rgb(191, 219, 254)"},children:[Object(C.jsx)(S,{enabled:i,checked:t,changed:function(e){return n(r,e)}}),Object(C.jsx)("div",{className:"w-1 mr-1 bg-transparent"}),Object(C.jsxs)("div",{className:"flex-grow flex",children:[Object(C.jsx)("span",{className:"text-gray-800 mr-2 w-20 truncate text-right",children:ee(c)}),Object(C.jsx)("p",{className:"flex-grow text-gray-800",children:o})]})]})}var Ne=function(){return be("hit","/"),Object(C.jsxs)(i.a,{store:T,children:[Object(C.jsxs)("div",{className:"flex mx-6 pb-2 border-b-2 space-y-",children:[Object(C.jsx)(fe,{}),Object(C.jsx)(me,{})]}),Object(C.jsxs)("div",{className:"flex items-stretch pt-4",children:[Object(C.jsxs)("div",{className:"w-1/4 border-gray-300 ml-5 border-r-2 pr-5 flex-shrink-0",children:[Object(C.jsx)(je,{}),Object(C.jsx)(M,{}),Object(C.jsx)(ye,{}),Object(C.jsx)(M,{}),Object(C.jsx)(ge,{}),Object(C.jsx)(M,{}),Object(C.jsx)(Re,{})]}),Object(C.jsx)("div",{className:"flex-grow divide-y-2 divide-gray-300 truncate mx-6",children:Object(C.jsx)(Te,{})}),Object(C.jsxs)("div",{className:"w-1/4 mr-5 border-l-2 pl-5 border-gray-300 flex-shrink-0",children:[Object(C.jsx)(X,{}),Object(C.jsx)(M,{}),Object(C.jsx)(ce,{})]})]})]})};n(77);a.a.render(Object(C.jsx)(o.a.StrictMode,{children:Object(C.jsx)(Ne,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.becaf020.chunk.js.map